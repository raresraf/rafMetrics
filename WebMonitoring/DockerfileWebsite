FROM ccarpita/speedprofile-chrome

RUN apt-get update && apt-get -y dist-upgrade

RUN apt-get install -y python3
RUN apt-get install -y ipython3
RUN apt-get install -y python3-pip
RUN apt-get install -y mysql-server
RUN pip3 install mysql-connector-python
RUN pip3 install requests
RUN pip3 install arrow

COPY . /rafMetrics
WORKDIR /rafMetrics

RUN chmod u+x ./WebMonitoring/WebsiteMonitorHelpers/entrypoint.sh

# Execute Website management
ENV PYTHONPATH="/rafMetrics"
ENTRYPOINT ["python3", "./WebMonitoring/WebsiteManager.py"]

# For development purpose only
# ENTRYPOINT ["tail", "-f", "/dev/null"]

